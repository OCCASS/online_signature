{% extends "admin_panel/base.html" %} 
{% load static %} 

{% block title %}Редактирование документа «{{ document.name }}»{% endblock %} 

{% block head %}
    <link rel="stylesheet" href="{% static 'css/form.css' %}" />
    <link rel="stylesheet" href="{% static 'css/admin_panel/edit_document.css' %}" />
{% endblock %}

{% block content %}
    <h1>Редактирование документа «{{ document.name }}»</h1>
    <form method="post">
        {% csrf_token %} 
        {% for field in form %}
          <div class="form__row">
              {{ field }}
              <span class="form__help_text">{{ field.help_text }}</span>
              {% if field.errors %}
                  <span class="form__error">{{ field.errors|striptags }}</span>
              {% endif %} 
          </div>
        {% endfor %}
        <button type="submit">Сохранить</button>
    </form>
{% endblock %}

{% block under_body %}
<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.getElementById("id_name").value = `{{ document.name }}`
        document.getElementById("id_template").innerHTML = `{{ document.template }}`
    })
</script>
{% endblock %}
